---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PortableText from '../../components/PortableText.astro';
import { t } from '../../lib/translations';
import { getStaticPage } from '../../lib/sanity';

const lang = 'en';

// Try to fetch homepage content from Sanity
const homepageContent = await getStaticPage('homepage', lang);
---

<BaseLayout title={t('common.home', lang) + " - Colourfully Digital"} currentLang={lang}>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    {homepageContent ? (
      <div class="text-center">
        <h1 class="text-4xl font-bold text-gray-900 mb-6">
          {homepageContent.pageTitle}
        </h1>
        <div class="max-w-3xl mx-auto mb-8">
          <PortableText content={homepageContent.pageContent} />
        </div>
        <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
          <a 
            href="/en/volunteer" 
            class="inline-block bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors"
          >
            {t('common.getInvolved', lang)}
          </a>
          <a 
            href="/en/about" 
            class="inline-block bg-gray-600 text-white px-6 py-3 rounded-md font-medium hover:bg-gray-700 transition-colors"
          >
            {t('common.learnMore', lang)}
          </a>
        </div>
      </div>
    ) : (
      <div class="text-center">
        <h1 class="text-4xl font-bold text-gray-900 mb-6">
          Welcome to Colourfully Digital
        </h1>
        <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">
          Supporting colorful communities through digital solutions, partnerships, and volunteer opportunities.
        </p>
        <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
          <a 
            href="/en/volunteer" 
            class="inline-block bg-blue-600 text-white px-6 py-3 rounded-md font-medium hover:bg-blue-700 transition-colors"
          >
            {t('common.getInvolved', lang)}
          </a>
          <a 
            href="/en/about" 
            class="inline-block bg-gray-600 text-white px-6 py-3 rounded-md font-medium hover:bg-gray-700 transition-colors"
          >
            {t('common.learnMore', lang)}
          </a>
        </div>
      </div>
    )}
  </div>
</BaseLayout>
